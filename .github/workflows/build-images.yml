---
name: Build all container images
on:
  schedule:
    - cron: "05 10 * * *" # 10:05am UTC everyday
  workflow_dispatch:

permissions:
  contents: read
  packages: write
  id-token: write

jobs:
  build-image-main:
    uses: ./.github/workflows/build-main.yml
    secrets: inherit

  build-image-dx:
    needs: build-image-main
    uses: ./.github/workflows/build-dx.yml
    secrets: inherit

  build-image-gx:
    needs: build-image-dx
    uses: ./.github/workflows/build-gx.yml
    secrets: inherit
